<!-- Header Principal -->
<header class="bg-white shadow-sm">
  <div class="container mx-auto px-4 py-3">
    <div class="flex items-center justify-between md:justify-start">
      <!-- Logo -->
      <div class="flex items-center">
        <img src="aiPetsLogo.jpg" alt="Ai Pets" class="w-24 md:w-28">
      </div>

      <!-- Mobile controls: search, cart, hamburger -->
      <div class="flex items-center md:hidden ml-auto space-x-2">

        <a href="https://api.whatsapp.com/send?phone=51992071210&text=Hola%20AIPets%2C%20Me%20contacto%20desde%20la%20p%C3%A1gina%20web.%20Quisiera%20consultar%20sobre%20sus%20servicios%20veterinarios" target="_blank" rel="noopener noreferrer" class="geom-bold px-5 hover:cursor-pointer border py-4 rounded-[30px] bg-cyan-500 text-white hover:bg-cyan-600 transition flex items-center">Whatsapp
          <i class="text-white fa-solid fa-paw ml-2"></i></a>

        <!-- Label que controla el checkbox del menu (ver reemplazo de nav) -->
        <label for="nav-toggle" class="p-2 rounded-md bg-gray-100 text-gray-700 cursor-pointer">
          <i class="fas fa-bars"></i>
        </label>

      </div>

      <!-- Search (desktop) -->
      <div class="hidden md:flex flex-1 max-w-xl mx-8">
        <div class="relative w-full">
          <input type="text" placeholder="Buscar productos..." [(ngModel)]="searchQuery" (keyup.enter)="buscar()"
            class="w-full px-4 py-2 pr-32 border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-400">
          <button (click)="buscar()"
            class="absolute right-0 top-0 bottom-0 bg-cyan-400 text-white px-6 rounded-r-lg hover:bg-cyan-500 transition">Buscar</button>
        </div>
      </div>

      <!-- Iconos derecha (desktop) -->
      <div class="hidden md:flex items-center space-x-6 ml-auto">
        <a href="https://api.whatsapp.com/send?phone=51992071210&text=Hola%20AIPets%2C%20Me%20contacto%20desde%20la%20p%C3%A1gina%20web.%20Quisiera%20consultar%20sobre%20sus%20servicios%20veterinarios" target="_blank" rel="noopener noreferrer" class="geom-bold px-5 hover:cursor-pointer border py-4 rounded-[30px] bg-cyan-500 text-white hover:bg-cyan-600 transition flex items-center">Whatsapp
          <i class="text-white fa-solid fa-paw ml-2"></i></a>
      </div>
    </div>
  </div>
</header>

<!-- Barra de navegación con gradiente cyan -->
<nav class="bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 text-white shadow-lg relative overflow-hidden">
  <div class="absolute inset-0 opacity-5">
    <svg class="w-full h-full" viewBox="0 0 400 80" fill="none">
      <circle cx="30" cy="30" r="15" fill="currentColor" />
      <circle cx="370" cy="50" r="20" fill="currentColor" />
      <path d="M100 40 Q150 20 200 40 T300 40" stroke="currentColor" stroke-width="8" fill="none" />
    </svg>
  </div>
  <div class="container mx-auto px-4 relative z-10">
    <div class="flex items-center justify-between h-16">
      <!-- Menú (desktop) -->
      <div class="hidden md:flex items-center space-x-8">
        <a (click)="navegar('inicio')"
          class="geom-bold hover:cursor-pointer hover:text-white hover:scale-105 transition flex items-center text-sm font-semibold">Inicio <i
            class="fas fa-chevron-down ml-2 text-xs"></i></a>
        <a (click)="navegar('shop-uno')"
          class="geom-bold hover:text-white hover:scale-105 hover:cursor-pointer transition flex items-center text-sm font-semibold">Tienda <i
            class="fas fa-chevron-down ml-2 text-xs"></i></a>
        <a (click)="navegar('nosotros')"
          class="geom-bold hover:text-white transition hover:cursor-pointer hover:scale-105 text-sm font-semibold">Nosotros</a>
        <a (click)="navegar('contacto')"
          class="geom-bold hover:text-white transition hover:cursor-pointer hover:scale-105 text-sm font-semibold">Contáctanos</a>
      </div>

      <!-- Mostrar sección actual en móvil (pill con icono) -->
      <div class="md:hidden">
        <div role="status" aria-live="polite"
          class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/20 text-white font-semibold backdrop-blur-sm transition-colors duration-200 ease-in-out">
          <i class="fas text-lg" [ngClass]="currentIcon"></i>
          <span class="text-sm">{{ currentSection }}</span>
        </div>
      </div>

      <!-- Label del menú móvil -->
      <label for="nav-toggle" class="md:hidden p-2 rounded-md hover:bg-white/20 text-white cursor-pointer transition">
        <i class="fas fa-bars text-lg"></i>
      </label>
    </div>

    <input id="nav-toggle" type="checkbox" class="hidden peer" aria-hidden="true">

    <!-- Mobile menu (aparece cuando #nav-toggle está checked) -->
    <div class="peer-checked:block md:hidden hidden pb-4 space-y-2 bg-gradient-to-b from-cyan-500/50 to-transparent rounded-b-lg">
      <a (click)="navegar('inicio')" class="geom-regular block px-4 py-3 hover:bg-white/10 rounded-lg transition hover:text-white">Inicio</a>
      <a (click)="navegar('shop-uno')" class="geom-regular block px-4 py-3 hover:bg-white/10 rounded-lg transition hover:text-white">Tienda</a>
      <a (click)="navegar('nosotros')" class="geom-regular block px-4 py-3 hover:bg-white/10 rounded-lg transition hover:text-white">Nosotros</a>
      <a (click)="navegar('contacto')" class="geom-regular block px-4 py-3 hover:bg-white/10 rounded-lg transition hover:text-white">Contáctanos</a>
    </div>
  </div>
</nav>